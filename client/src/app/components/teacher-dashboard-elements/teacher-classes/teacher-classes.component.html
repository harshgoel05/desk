<div class="main">
    <app-nav></app-nav>
    <div class="circle-top"></div>
    <div class="circle-btm"></div>
    <div class="headline">
        <h1>My Classes</h1>
    </div>


<div class="class container">
  <ng-container *ngFor="let p of classList">
    <mat-expansion-panel class="exp" (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false">
    <mat-expansion-panel-header class="head">
      <mat-panel-title class="title">
            {{p.subject}}
      </mat-panel-title>
      <mat-panel-description class="desc">
            {{p.students.length}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p><span class="cod">Class Code: {{p.code }}</span><a href='{{p.meeting.link|| ""}}'><i class="fas fa-video"></i></a> <span class="del" (click)="deleteclass(p.code)" style="cursor: pointer;">Delete Class</span></p>
  </mat-expansion-panel>
  </ng-container>

  <mat-expansion-panel class="exp" (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false">
    <mat-expansion-panel-header class="head add">
      <mat-panel-title class="title">
            Add Class
      </mat-panel-title>

    </mat-expansion-panel-header>
    <div class="add-form">
      <form [formGroup]='addClass'>
        <div class="row">
            <div class="col-sm">
              <div class="form-group">
                <mat-form-field class="example-full-width">
                  <mat-label>Class Name</mat-label>
                  <input formControlName="subject" type="text" matInput placeholder="Enter class name">
                </mat-form-field>
              </div>

            </div>
            <div class="col-sm">
              <div class="form-group">
                <mat-form-field class="example-full-width">
                  <mat-label>Video call link</mat-label>
                  <input formControlName='link' type="text" matInput placeholder="Enter call link">
                </mat-form-field>
              </div>

            </div>
            <div class="col-sm">
              <div class="form-group">
                <mat-form-field class="example-full-width">
                  <mat-label>Class Code</mat-label>
                  <input formControlName='subject_code' type="text" matInput placeholder="Enter class code">
                </mat-form-field>
              </div>
            </div>
        </div>
        <span class="submit" (click)="submit()"><i class="fas fa-plus-circle"></i> Add</span>
      </form>
    </div>
  </mat-expansion-panel>
</div>

</div>
